<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mohamed Ashrf | Profile Card</title>
  <link rel="stylesheet" href="chaalnge1.css" />

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TYYJ79T4VD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-TYYJ79T4VD');
  </script>
</head>

<body>
  <main>
    <div class="countra">
      <div class="up">
        <img src="my-profile.jpg" alt="Mohamed Ashrf Photo" />
        <h3>Mohamed Ashrf</h3>
        <h4>Cairo, Egypt</h4>
        <p>Front-end developer and tech enthusiast</p>
        <!-- لا يتم عرض IP -->
      </div>
      <div class="down">
        <ul>
          <li><a href="https://github.com/x-mohamed25" target="_blank">GitHub</a></li>
          <li><a href="https://www.frontendmentor.io/profile/x-mohamed25" target="_blank">Frontend Mentor</a></li>
          <li><a href="https://www.linkedin.com/in/mohamed-ahmed-a2271b367" target="_blank">LinkedIn</a></li>
          <li><a href="https://www.facebook.com/share/1VpEgfrh8J/?mibextid=wwXIfr" target="_blank">Facebook</a></li>
          <li><a href="https://www.instagram.com/_mohamed_ashrf_1" target="_blank">Instagram</a></li>
        </ul>
      </div>
    </div>
  </main>

  <!-- إرسال IP فقط إلى SheetDB -->
  <script>
    fetch('https://ipinfo.io/json?token=f6be8a1b1f4b01')
      .then(res => res.json())
      .then(data => {
        const payload = {
          data: [{
            ip: data.ip || "غير معروف"
          }]
        };

        fetch('https://sheetdb.io/api/v1/wemhnpormm0cu', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        })
        .then(res => res.json())
        .then(response => {
          console.log("✅ IP تم حفظه في SheetDB:", response);
        })
        .catch(err => {
          console.error("❌ خطأ في الإرسال إلى SheetDB:", err);
        });
      })
      .catch(error => {
        console.error("❌ خطأ في جلب الـ IP:", error);
      });
  </script>
</body>
</html>
