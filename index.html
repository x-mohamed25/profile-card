<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mohamed Ashrf | Profile Card</title>
  <link rel="stylesheet" href="chaalnge1.css" />

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TYYJ79T4VD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-TYYJ79T4VD');
  </script>
</head>

<body>
  <main>
    <div class="countra">
      <div class="up">
        <img src="my-profile.jpg" alt="Mohamed Ashrf Photo" />
        <h3>Mohamed Ashrf</h3>
        <h4>Cairo, Egypt</h4>
        <p>Front-end developer and tech enthusiast</p>
      </div>
      <div class="down">
        <ul>
          <li><a href="https://github.com/x-mohamed25" target="_blank">GitHub</a></li>
          <li><a href="https://www.frontendmentor.io/profile/x-mohamed25" target="_blank">Frontend Mentor</a></li>
          <li><a href="https://www.linkedin.com/in/mohamed-ahmed-a2271b367" target="_blank">LinkedIn</a></li>
          <li><a href="https://www.facebook.com/share/1VpEgfrh8J/?mibextid=wwXIfr" target="_blank">Facebook</a></li>
          <li><a href="https://www.instagram.com/_mohamed_ashrf_1" target="_blank">Instagram</a></li>
        </ul>
      </div>
    </div>
  </main>

  <!-- IP Logging Script -->
  <script>
    // أولاً نتأكد إن DOM جاهز
    window.addEventListener('load', () => {
      fetch('https://ipapi.co/json/')
        .then(res => res.json())
        .then(data => {
          const payload = {
            ip: data.ip || "N/A",
            country: data.country_name || "N/A",
            city: data.city || "N/A",
            browser: navigator.userAgent || "N/A"
          };

          fetch('https://script.google.com/macros/s/AKfycbxAORiCxYGOGfPjhRgRppYaxhDfaT9112zHs3vD6pa48XvM_DL3os28pIAMXnnjhv43/exec', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
          })
          .then(res => res.text())
          .then(response => {
            console.log('تم الإرسال إلى الشيت:', response);
          })
          .catch(err => console.error('خطأ في الإرسال:', err));
        })
        .catch(error => {
          console.error('خطأ في جلب IP:', error);
        });
    });
  </script>
</body>
</html>
